{"ast":null,"code":"import{useState}from\"react\";import UndoRedoControls from\"./UndoRedoControls\";import useHistory from\"./hooks/useHistory\";// ✅ import custom hook\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const textHistory=useHistory(\"\");// for input text\nconst resultHistory=useHistory(\"\");// for backend results\nconst[tone,setTone]=useState(\"formal\");const API_BASE_URL=process.env.REACT_APP_API_URL;const handleRewrite=async()=>{try{const res=await fetch(\"\".concat(API_BASE_URL,\"/api/rewrite\"),{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({text:textHistory.current,tone})});const data=await res.json();resultHistory.update(data.output||JSON.stringify(data));// ✅ track results\n}catch(err){console.error(err);resultHistory.update(\"Error: Could not connect to backend\");}};return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center min-h-screen bg-gray-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"w-full max-w-lg p-6 bg-white rounded-2xl shadow-lg\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold mb-4 text-center\",children:\"Tone Picker\"}),/*#__PURE__*/_jsx(\"textarea\",{value:textHistory.current,onChange:e=>textHistory.update(e.target.value),placeholder:\"Enter text here\",className:\"w-full p-3 border rounded-lg mb-4\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 mb-4\",children:[/*#__PURE__*/_jsxs(\"select\",{value:tone,onChange:e=>setTone(e.target.value),className:\"flex-1 p-2 border rounded-lg\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"formal\",children:\"Formal\"}),/*#__PURE__*/_jsx(\"option\",{value:\"casual\",children:\"Casual\"}),/*#__PURE__*/_jsx(\"option\",{value:\"friendly\",children:\"Friendly\"}),/*#__PURE__*/_jsx(\"option\",{value:\"angry\",children:\"Angry\"}),/*#__PURE__*/_jsx(\"option\",{value:\"excited\",children:\"Excited\"}),/*#__PURE__*/_jsx(\"option\",{value:\"empathetic\",children:\"Empathetic\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleRewrite,className:\"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600\",children:\"Change\"})]}),/*#__PURE__*/_jsx(UndoRedoControls,{onUndo:textHistory.undo,onRedo:textHistory.redo,onReset:textHistory.reset,canUndo:textHistory.canUndo,canRedo:textHistory.canRedo}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-3 border rounded-lg bg-gray-100\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Result:\"}),/*#__PURE__*/_jsx(\"p\",{children:resultHistory.current})]})]})});}export default App;","map":{"version":3,"names":["useState","UndoRedoControls","useHistory","jsx","_jsx","jsxs","_jsxs","App","textHistory","resultHistory","tone","setTone","API_BASE_URL","process","env","REACT_APP_API_URL","handleRewrite","res","fetch","concat","method","headers","body","JSON","stringify","text","current","data","json","update","output","err","console","error","className","children","value","onChange","e","target","placeholder","onClick","onUndo","undo","onRedo","redo","onReset","reset","canUndo","canRedo"],"sources":["C:/Users/dell/OneDrive/Desktop/Tone-Picker-App-master/frontend/src/App.jsx"],"sourcesContent":["import { useState } from \"react\";\nimport UndoRedoControls from \"./UndoRedoControls\";\nimport useHistory from \"./hooks/useHistory\"; // ✅ import custom hook\n\nfunction App() {\n  const textHistory = useHistory(\"\");   // for input text\n  const resultHistory = useHistory(\"\"); // for backend results\n  const [tone, setTone] = useState(\"formal\");\n\n  const API_BASE_URL = process.env.REACT_APP_API_URL;\n  const handleRewrite = async () => {\n    try {\n      const res = await fetch(`${API_BASE_URL}/api/rewrite`, {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ text: textHistory.current, tone }),\n      });\n\n      const data = await res.json();\n      resultHistory.update(data.output || JSON.stringify(data)); // ✅ track results\n    } catch (err) {\n      console.error(err);\n      resultHistory.update(\"Error: Could not connect to backend\");\n    }\n  };\n\n  return (\n    <div className=\"flex items-center justify-center min-h-screen bg-gray-50\">\n      <div className=\"w-full max-w-lg p-6 bg-white rounded-2xl shadow-lg\">\n        <h1 className=\"text-2xl font-bold mb-4 text-center\">Tone Picker</h1>\n\n        {/* Text input with history */}\n        <textarea\n          value={textHistory.current}\n          onChange={(e) => textHistory.update(e.target.value)}\n          placeholder=\"Enter text here\"\n          className=\"w-full p-3 border rounded-lg mb-4\"\n        />\n\n        <div className=\"flex items-center gap-2 mb-4\">\n          <select\n            value={tone}\n            onChange={(e) => setTone(e.target.value)}\n            className=\"flex-1 p-2 border rounded-lg\"\n          >\n            <option value=\"formal\">Formal</option>\n            <option value=\"casual\">Casual</option>\n            <option value=\"friendly\">Friendly</option>\n            <option value=\"angry\">Angry</option>\n            <option value=\"excited\">Excited</option>\n            <option value=\"empathetic\">Empathetic</option>\n          </select>\n\n          <button\n            onClick={handleRewrite}\n            className=\"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600\"\n          >\n            Change\n          </button>\n        </div>\n\n        {/* Undo/Redo buttons */}\n        <UndoRedoControls\n          onUndo={textHistory.undo}\n          onRedo={textHistory.redo}\n          onReset={textHistory.reset}\n          canUndo={textHistory.canUndo}\n          canRedo={textHistory.canRedo}\n        />\n\n        <div className=\"p-3 border rounded-lg bg-gray-100\">\n          <strong>Result:</strong>\n          <p>{resultHistory.current}</p>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}